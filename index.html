<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>総トン数別入港数ダッシュボード</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>総トン数別入港数ダッシュボード</h1>
        </header>

        <!-- CSVアップロードセクション -->
        <div class="upload-section">
            <label for="csvFile" class="upload-label">
                <span>CSVファイルを選択</span>
                <input type="file" id="csvFile" accept=".csv" />
            </label>
            <div id="uploadStatus"></div>
        </div>

        <!-- サマリーカード -->
        <div id="summarySection" class="summary-section hidden">
            <div class="card">
                <h3>総入港数</h3>
                <p class="card-value" id="totalShips">-</p>
            </div>
            <div class="card">
                <h3>年度データ数</h3>
                <p class="card-value" id="yearCount">-</p>
            </div>
            <div class="card">
                <h3>平均年間入港数</h3>
                <p class="card-value" id="avgShips">-</p>
            </div>
            <div class="card">
                <h3>最高年入港数</h3>
                <p class="card-value" id="maxShips">-</p>
            </div>
        </div>

        <!-- チャートセクション -->
        <div id="chartsSection" class="charts-section hidden">
            <!-- トン数別入港数の推移 -->
            <div class="chart-container">
                <h2>トン数別入港数の推移</h2>
                <canvas id="trendChart"></canvas>
            </div>

            <!-- 最新年度のトン数別入港数 -->
            <div class="chart-container">
                <h2>最新年度のトン数別入港数</h2>
                <canvas id="latestYearChart"></canvas>
            </div>
        </div>

        <!-- トン数別積み上げグラフ (全幅) -->
        <div id="distributionSection" class="distribution-section hidden">
            <div class="chart-container-full">
                <h2>年度別トン数別入港数の推移（積み上げ）</h2>
                <canvas id="stackedChart"></canvas>
            </div>
        </div>

        <!-- 詳細テーブル -->
        <div id="tableSection" class="table-section hidden">
            <h2>詳細データテーブル</h2>
            <div class="table-controls">
                <input type="text" id="searchInput" placeholder="検索...">
                <select id="itemsPerPage">
                    <option value="10">10件</option>
                    <option value="25" selected>25件</option>
                    <option value="50">50件</option>
                    <option value="100">100件</option>
                </select>
            </div>
            <div class="table-wrapper">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>年度</th>
                            <th>トン数区分</th>
                            <th>入港数</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                    </tbody>
                </table>
            </div>
            <div class="pagination">
                <button id="prevPage">前へ</button>
                <span id="pageInfo"></span>
                <button id="nextPage">次へ</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
